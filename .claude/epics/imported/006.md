---
name: "Auto-Save Workflow"
status: open
created: 2026-02-23T19:06:51Z
updated: 2026-02-25T21:03:30Z
github: https://github.com/genfeedai/core/issues/11
imported: true
labels:
  - enhancement
---

## Summary

Automatically save workflow to API after 5 seconds of user inactivity. The feature uses a debounced effect that watches `isDirty` state and triggers `saveWorkflow()` when the user stops making changes.

## Requirements

1. Auto-save triggers 5 seconds after last canvas change
2. Visual indicator shows save status (saving/saved/unsaved)
3. User can toggle auto-save on/off
4. Preference persists in localStorage
5. Proper AbortController cleanup on unmount

## Implementation

- **useAutoSave Hook** (`apps/web/src/hooks/useAutoSave.ts`): Debounced auto-save with AbortController
- **UI Store State** (`apps/web/src/store/uiStore.ts`): `autoSaveEnabled` toggle with localStorage persistence
- **Save Indicator** (`apps/web/src/components/Toolbar.tsx`): Visual status (saving/saved/unsaved/off)
- **Page Integration** (`apps/web/src/app/page.tsx`): Initialize useAutoSave hook

## Edge Cases

1. Empty workflow: Don't save if `nodes.length === 0`
2. Already saving: Don't queue another save while one is in progress
3. Tab close during save: AbortController prevents hanging requests
4. Rapid changes: Debounce resets on each change
5. Network error: Log error, will retry on next change
