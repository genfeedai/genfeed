---
name: "Full-Screen Image Annotation Editor"
status: open
created: 2026-02-23T19:07:08Z
updated: 2026-02-25T21:03:28Z
github: https://github.com/genfeedai/core/issues/14
imported: true
labels:
  - enhancement
---

## Summary

Full-screen image annotation editor with drawing tools using native Canvas API. Allows users to annotate images directly within the workflow editor.

## Key Deliverables

- Drawing tools: rectangles, circles, arrows, freehand, text
- Native Canvas API (no external dependency like Konva.js)
- Export annotated images
- Undo/redo history (max 50 states)

## Implementation

**State Management:**
- `apps/web/src/store/annotationStore.ts` - Zustand store with tool selection, shape CRUD, undo/redo history

**Components:**
- `apps/web/src/components/annotation/AnnotationModal.tsx` - Full-screen canvas editor with tool toolbar, color picker (10 colors), stroke width selector, fill toggle, text input overlay
- `apps/web/src/components/nodes/processing/AnnotationNode.tsx` - Processing node with image preview, annotation count badge

## Design Decisions

- **Native Canvas over Konva.js**: Avoided external dependency, Canvas API sufficient for annotation tools
- **Undo/Redo**: Max 50 history states to prevent memory bloat
- **Drawing Tools**: 6 tools covering common annotation needs (select, rectangle, circle, arrow, freehand, text)
